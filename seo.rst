SEO
===

There's no one-size-fits-all recipe for SEO optimization, but over time we've learned some tips and
rules that are reasonably applicable to most Tribune projects. At the end of this page, we've put
together a basic `optimization checklist <#appendix-optimization-checklist>`_, heavily based on the
excellent `Moz on-page grader tool <https://moz.com/researchtools/on-page-grader>`_ (ask the SEO
team if you'd like to use it with the Tribune account).

Headlines
---------

HTML5
-----

Schema.org tagging
------------------

Diagnosing issues
-----------------

Appendix: Optimization checklist
--------------------------------

Must-haves:
^^^^^^^^^^^

Content is present in HTML on initial page load, not generated by Javascript
____________________________________________________________________________

Most search engines at least claim to be unable to process text hidden in Javascript, and prefer
that all page content is present in the HTML of a page itself when it first loads. This might seem
trivially obvious, but there are projects that load all content dynamically - for instance, our
`shootings <http://crime.chicagotribune.com/chicago/shootings>`_ and `homicides
<http://crime.chicagotribune.com/chicago/homicides>`_ pages put almost no text in the initial HTML
of the page, and instead load all their content via Javascript. This works for dynamically-generated
pages, and pages for which we're less concerned about ranking for specific terms. In general, try to
avoid putting content in Javascript, unless you have a good reason to do so.

Headlines are wrapped in H1 tags
________________________________

The <h1> tag is interpreted by search engines as being the most important descriptive element on a
page, so make sure that you wrap your headline in <h1>s. You can control the size of the <h1> text
itself with CSS, but it's important to use that specific tag.

Images have alt text
____________________

This is important for accessibility as well as SEO: alt text on images means that screen readers and
users of devices with slower internet connections can understand the images that they may not be
able to see. So make sure that as many of your images as possible contain descriptive alt text, like
the following: ::


    <img src="http://chicagotribune.com/rahm.png" alt="Mayor Rahm Emanuel pictured in a scene from
    "Chicagoland," a CNN documentary about the city and its leaders. (CNN)">

Pages have title tags and meta descriptions
___________________________________________

In order for pages to appear properly in search results, they need a ``<title>`` tag. Keep in mind
that the ``<title>`` tag will often be used as the headline for a page in a set of search results.
Therefore, it should both contain some of the most important keywords for the page in question, and
be able to stand alone in a list of links as an accurate description of the page to which it refers.

The "description" meta tag is helpful both in generating search result snippets, and helping search
engines understand what content and keywords on the page deserve priority. However, don't count on
it being used to directly generate the search result snippet. ::

    <title>Chicago Under the Gun -- Chicago Tribune</title>
    <meta name="description">Chicago Under the Gun: Tribune photographers chronicle the physical and
    emotional toll of Chicago&#39;s violent crimes in this special visual report</meta>

You may have noticed the ``&#39;`` character in the description, in place of the usual ``'``
character. This is the `HTML character code <http://www.ascii.cl/htmlcodes.htm>`_ for a single
quote; we recommend replacing all quotation marks, and pretty much all special characters (outside
of periods, question marks, colons, semicolons and exclamation points) with their HTML character code
equivalents. This prevents search engine results from displaying strange characters in their result
snippets.

Pages have Open Graph tags, including image previews
____________________________________________________

`Open Graph tags <http://ogp.me/>`_ were initially created by Facebook to give websites more control
over how links to their pages appeared in users' news feeds. They still serve that role, for
Facebook and other sites, but they've also become important sources of metadata for search engines
over time as well.

Open Graph requires, at a minimum, the following 4 tags to be specified:

``og:title``
    Title of the page
``og:type``
    Type of page; for our purposes, this should usually be ``article`` or occasionally, ``website``
``og:image``
    URL for an image to associate with this page
``og:url``
    Canonical URL for this page

Additionally, we often use the ``og:description`` tag instead of the "description" meta tag, and
that seems to work well.

Here's an example: ::

    <meta property="og:url" content="http://graphics.chicagotribune.com/under-the-gun/index.html" />
    <meta property="og:title" content="Chicago Under the Gun" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Chicago Under the Gun: Tribune photographers chronicle the physical and emotional toll of Chicago&#39;s violent crimes in this special visual report" />
    <meta property="og:image" content="http://graphics.chicagotribune.com/under-the-gun/img/under-the-gun.jpg?v12" />

Use Schema.org tags
___________________

`Schema.org <http://www.schema.org>`_ tags are a way to add structured data to webpages. They cover
similar territory as meta "description" tags and Open Graph tags, but they're more versatile and
used more prominently by Google. This is all a bit redundant, but different major traffic sources
use slightly different systems, so sadly, some redundancy is necessary.

Schema.org tags can be used for the same purpose as the ``<title>`` and ``og:title`` tag: ::

    <meta itemprop="name" content="Designed in Chicago, Made in China">

They have an equivalent to the "description" meta tag and ``og:description`` tags: ::

    <meta itemprop="description" content="In chapter one of a three-part series, &quot;Designed in Chicago, Made in China,&quot; Chicago Tribune architecture critic Blair Kamin and photographer John Kim examine the evolution of some of the most visible symbols of China&#39;s hyper-fast urban growth-its new skyscrapers, many of them Chicago-designed.">

They also have an equivalent to the ``og:image`` tag: ::

    <meta itemprop="image" content="http://apps.chicagotribune.com/news/chicago-architecture-in-china/img/work-shanghai-og.jpg">

However, Schema.org tags have more uses than just duplicating the functionality of other tags.
They're particularly useful in pointing out elements of a page that we want search engines to pay
particular attention to, like videos and images: ::

    <div class="trib-media" itemscope itemtype="http://schema.org/VideoObject">
        <aside>
            <h3 class="china-section-head video-head" itemprop="name">Shanghai&#39;s rise</h3>
            <div class="video-wrapper">
                <iframe src="//player.vimeo.com/video/86333422" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
            </div>
        </aside>
    </div>

We also use Schema.org tags to tell search engines who created our content, and what section it
belongs to: ::

    <span itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="Chicago Tribune">
    </span>
    <meta itemprop="articleSection" content="Blue Sky Innovation">

Nice-to-haves:
^^^^^^^^^^^^^^

title tag has important keywords somewhere
__________________________________________

don't use targeted keywords more than 15 times
______________________________________________

has a canonical url
___________________

important keywords in image alt tags, page meta description
___________________________________________________________

page titles work after truncating 70 chars (or are no longer than 70)
_____________________________________________________________________

links to external stuff
_______________________

